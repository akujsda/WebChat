[{"/home/alexey/projects/chat/WebChat/web/src/index.js":"1","/home/alexey/projects/chat/WebChat/web/src/reportWebVitals.js":"2","/home/alexey/projects/chat/WebChat/web/src/App.tsx":"3","/home/alexey/projects/chat/WebChat/web/src/apolloSetup.ts":"4","/home/alexey/projects/chat/WebChat/web/src/route/appRouter.tsx":"5","/home/alexey/projects/chat/WebChat/web/src/i18n/index.ts":"6","/home/alexey/projects/chat/WebChat/web/src/route/routes.ts":"7","/home/alexey/projects/chat/WebChat/web/src/ui/header.tsx":"8","/home/alexey/projects/chat/WebChat/web/src/chat/chat.tsx":"9","/home/alexey/projects/chat/WebChat/web/src/auth/auth.tsx":"10","/home/alexey/projects/chat/WebChat/web/src/auth/register.tsx":"11","/home/alexey/projects/chat/WebChat/web/src/i18n/provider.tsx":"12","/home/alexey/projects/chat/WebChat/web/src/i18n/locales.ts":"13","/home/alexey/projects/chat/WebChat/web/src/auth/query.ts":"14","/home/alexey/projects/chat/WebChat/web/src/chat/messageList.tsx":"15","/home/alexey/projects/chat/WebChat/web/src/chat/sendMessage.tsx":"16","/home/alexey/projects/chat/WebChat/web/src/friends/friends.tsx":"17","/home/alexey/projects/chat/WebChat/web/src/chat/query.ts":"18","/home/alexey/projects/chat/WebChat/web/src/friends/friend-list.tsx":"19","/home/alexey/projects/chat/WebChat/web/src/friends/add-friend.tsx":"20","/home/alexey/projects/chat/WebChat/web/src/friends/add-friend-modal.tsx":"21","/home/alexey/projects/chat/WebChat/web/src/i18n/messages/index.ts":"22","/home/alexey/projects/chat/WebChat/web/src/friends/query.ts":"23","/home/alexey/projects/chat/WebChat/web/src/i18n/messages/en-us.ts":"24"},{"size":291,"mtime":1609171055365,"results":"25","hashOfConfig":"26"},{"size":362,"mtime":1608045972787,"results":"27","hashOfConfig":"26"},{"size":470,"mtime":1609171055337,"results":"28","hashOfConfig":"26"},{"size":1375,"mtime":1610106236142,"results":"29","hashOfConfig":"26"},{"size":847,"mtime":1610106236142,"results":"30","hashOfConfig":"26"},{"size":87,"mtime":1609171055345,"results":"31","hashOfConfig":"26"},{"size":104,"mtime":1608045972787,"results":"32","hashOfConfig":"26"},{"size":1846,"mtime":1610106222045,"results":"33","hashOfConfig":"26"},{"size":1266,"mtime":1610286360115,"results":"34","hashOfConfig":"26"},{"size":5437,"mtime":1609171055337,"results":"35","hashOfConfig":"26"},{"size":5863,"mtime":1610029492477,"results":"36","hashOfConfig":"26"},{"size":495,"mtime":1609171055365,"results":"37","hashOfConfig":"26"},{"size":46,"mtime":1609171055345,"results":"38","hashOfConfig":"26"},{"size":339,"mtime":1609171055337,"results":"39","hashOfConfig":"26"},{"size":2030,"mtime":1610106236142,"results":"40","hashOfConfig":"26"},{"size":2884,"mtime":1610106236142,"results":"41","hashOfConfig":"26"},{"size":943,"mtime":1610106236142,"results":"42","hashOfConfig":"26"},{"size":417,"mtime":1610106236142,"results":"43","hashOfConfig":"26"},{"size":1001,"mtime":1610106236142,"results":"44","hashOfConfig":"26"},{"size":383,"mtime":1610106236142,"results":"45","hashOfConfig":"26"},{"size":1377,"mtime":1610289694538,"results":"46","hashOfConfig":"26"},{"size":112,"mtime":1609171055365,"results":"47","hashOfConfig":"26"},{"size":450,"mtime":1610289314977,"results":"48","hashOfConfig":"26"},{"size":480,"mtime":1610029492501,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"i37amm",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"57"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"57"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},"/home/alexey/projects/chat/WebChat/web/src/index.js",[],["102","103"],"/home/alexey/projects/chat/WebChat/web/src/reportWebVitals.js",[],"/home/alexey/projects/chat/WebChat/web/src/App.tsx",[],["104","105"],"/home/alexey/projects/chat/WebChat/web/src/apolloSetup.ts",[],"/home/alexey/projects/chat/WebChat/web/src/route/appRouter.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/i18n/index.ts",[],"/home/alexey/projects/chat/WebChat/web/src/route/routes.ts",[],"/home/alexey/projects/chat/WebChat/web/src/ui/header.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/chat/chat.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/auth/auth.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/auth/register.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/i18n/provider.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/i18n/locales.ts",[],"/home/alexey/projects/chat/WebChat/web/src/auth/query.ts",[],"/home/alexey/projects/chat/WebChat/web/src/chat/messageList.tsx",["106","107"],"import React, { ReactElement, useEffect, useState } from \"react\"\nimport {Box} from \"@material-ui/core\"\nimport { useQuery, useSubscription } from \"@apollo/react-hooks\"\nimport {GetMessagesQ, NewMessageS} from \"./query\"\nimport Cookies from \"js-cookie\"\nimport styled from 'styled-components'\n\n\nconst StyledList= styled.ul`\n  padding-left:10px;\n  padding-right:10px;\n  list-style:none;\n`\n\nconst StyledItemList= styled.li`\n  padding-bottom: 10px;\n  padding-top: 10px;\n  border: 1px solid rgb(63, 81, 181);\n  border-radius: 10px;\n  margin-top:10px;\n  margin-bottom:10px;\n`\n\n\ninterface Props {\n  currentChat: string | null\n}\nexport const MessageList = ({\n  currentChat\n}:Props):ReactElement =>{\n  const id = Cookies.get(\"userId\")\n  const name = Cookies.get(\"userName\")\n  const [messageList, setMessageList]= useState([\"\"])\n\n  const { data, loading } = useQuery(GetMessagesQ, {\n    variables: {\n      chatId: currentChat\n    },\n  })\n\n  useEffect(() => {\n    currentChat && setMessageList(data.getMessages)\n  }, [loading, data, currentChat])\n\n  const {data: subData, loading: subLoading} = useSubscription(NewMessageS)\n\n\n\n  useEffect(() => {\n    const list = document.getElementById(\"messageList\")\n    if(!!subData && list ){\n\n      const newMessageList= [...messageList, subData.newMessage]\n\n      setMessageList(newMessageList)\n      list.scrollTop = list.scrollHeight\n    }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subLoading, subData])\n\n\n\n\n  return (\n    <Box width=\"100%\" height=\"80vh\" id=\"messageList\" overflow=\"scroll\" >\n      <StyledList >\n        {!loading && messageList && currentChat && messageList.map((message:any, index:number)=> {\n          console.log(message);\n\n          return (\n            <StyledItemList key={index} >\n              <Box textAlign=\"left\" marginLeft=\"10px\" padding=\"5px\" >{message.senderName}: </Box>\n              <Box marginTop=\"20px\" padding=\"5px\">{message.senderName}</Box>\n            </StyledItemList>\n          )\n        }\n        )}\n      </StyledList>\n    </Box>\n  )\n}\n","/home/alexey/projects/chat/WebChat/web/src/chat/sendMessage.tsx",["108","109"],"import React, { ReactElement, Fragment } from \"react\"\nimport {TextField, Box, Button} from \"@material-ui/core\"\nimport {  useMutation } from \"@apollo/react-hooks\"\nimport {SendMessageM} from \"./query\"\nimport {Message} from \"./types\"\nimport {Formik, FormikProps} from \"formik\"\nimport * as yup from 'yup'\nimport Cookies from \"js-cookie\"\nimport styled from 'styled-components'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ExecutionResult } from \"graphql\"\nimport {useIntl} from 'react-intl';\n\nconst StyledTextField=styled(TextField)`\n  width:300px;\n  border:1px solid #3f51b5;\n  border-radius:5px;\n  margin-bottom: 10px;\n`\n\ninterface SendMessageInput {\n  chatId: string\n  text:string\n}\n\nconst initialValues:SendMessageInput = {\n  chatId: \"\",\n  text:\"\"\n}\n\nconst validationSchema = yup.object().shape({\n  text: yup.string().required().max(500),\n  senderId: yup.string().required(),\n})\n\ninterface Props {\n  currentChat: string | null\n}\n\nexport const SendMessage = ({\n  currentChat\n}:Props):ReactElement =>{\n  const [sendMessage] = useMutation<Message>(SendMessageM)\n  const id= Cookies.get(\"userId\")\n  const userName= Cookies.get(\"userName\")\n  const intl = useIntl().messages\n\n  const setTextValue = (formikBag:any): void=>{\n    const sendMessageInput:any = document.getElementById(\"sendMessageInput\")\n    if(sendMessageInput){\n    formikBag.setFieldValue(\"text\", sendMessageInput.value)\n    }\n  }\n\n  const  sendMessageAsync = async(formikBag:FormikProps<SendMessageInput>):Promise<void> =>{\n    if(formikBag.values.text && !formikBag.errors.text){\n    try {\n     await sendMessage({\n        variables: {\n          input: {\n            chatId: currentChat,\n            text: formikBag.values.text,\n          },\n        },\n      })\n    } catch {}\n    finally{\n      formikBag.resetForm()\n    }\n  }else{\n    toast.error(\"Max lenght 500 simbols\",{\n      position: toast.POSITION.BOTTOM_RIGHT\n    })\n    formikBag.resetForm()\n  }\n  }\n\n  return (\n    <Fragment>\n      <Formik\n      onSubmit={():Promise<ExecutionResult<Message>> =>sendMessage()}\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      component={(\n        formikBag\n      ): ReactElement<FormikProps<SendMessageInput>> =>{\n        return(\n          <Box width=\"300px\" marginTop = \"10px\"  >\n            <StyledTextField\n            id=\"sendMessageInput\" required  variant=\"outlined\"\n            onChange={():void=> setTextValue(formikBag)}\n            inputProps={{\n              autoComplete:\"off\"\n            }}\n              />\n\n          <Box marginTop=\"10px\" marginBottom=\"10px\" >\n            <Button  variant=\"contained\" color=\"primary\" onClick={():Promise<void>=> sendMessageAsync(formikBag)} >{`${intl.send}`}</Button>\n          </Box>\n\n        </Box>\n          )\n          }}\n      />\n    <ToastContainer />\n  </Fragment>\n  )}\n","/home/alexey/projects/chat/WebChat/web/src/friends/friends.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/chat/query.ts",[],"/home/alexey/projects/chat/WebChat/web/src/friends/friend-list.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/friends/add-friend.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/friends/add-friend-modal.tsx",[],"/home/alexey/projects/chat/WebChat/web/src/i18n/messages/index.ts",[],"/home/alexey/projects/chat/WebChat/web/src/friends/query.ts",[],"/home/alexey/projects/chat/WebChat/web/src/i18n/messages/en-us.ts",[],{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","replacedBy":"113"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":31,"column":9,"nodeType":"116","messageId":"117","endLine":31,"endColumn":11},{"ruleId":"114","severity":1,"message":"118","line":32,"column":9,"nodeType":"116","messageId":"117","endLine":32,"endColumn":13},{"ruleId":"114","severity":1,"message":"115","line":45,"column":9,"nodeType":"116","messageId":"117","endLine":45,"endColumn":11},{"ruleId":"114","severity":1,"message":"119","line":46,"column":9,"nodeType":"116","messageId":"117","endLine":46,"endColumn":17},"no-native-reassign",["120"],"no-negated-in-lhs",["121"],"@typescript-eslint/no-unused-vars","'id' is assigned a value but never used.","Identifier","unusedVar","'name' is assigned a value but never used.","'userName' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]