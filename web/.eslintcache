[{"/Users/alexey/Documents/chat/web/src/index.js":"1","/Users/alexey/Documents/chat/web/src/route/appRouter.tsx":"2","/Users/alexey/Documents/chat/web/src/auth/query.ts":"3","/Users/alexey/Documents/chat/web/src/auth/register.tsx":"4","/Users/alexey/Documents/chat/web/src/auth/auth.tsx":"5","/Users/alexey/Documents/chat/web/src/chat/chat.tsx":"6","/Users/alexey/Documents/chat/web/src/chat/messageList.tsx":"7","/Users/alexey/Documents/chat/web/src/chat/query.ts":"8","/Users/alexey/Documents/chat/web/src/chat/sendMessage.tsx":"9","/Users/alexey/Documents/chat/web/src/ui/header.tsx":"10","/Users/alexey/Documents/chat/web/src/reportWebVitals.js":"11","/Users/alexey/Documents/chat/web/src/apolloSetup.ts":"12","/Users/alexey/Documents/chat/web/src/App.tsx":"13","/Users/alexey/Documents/chat/web/src/route/routes.ts":"14"},{"size":291,"mtime":1608201792826,"results":"15","hashOfConfig":"16"},{"size":719,"mtime":1609138350754,"results":"17","hashOfConfig":"16"},{"size":339,"mtime":1608302953056,"results":"18","hashOfConfig":"16"},{"size":5513,"mtime":1609138719343,"results":"19","hashOfConfig":"16"},{"size":5373,"mtime":1609138991508,"results":"20","hashOfConfig":"16"},{"size":763,"mtime":1609138461212,"results":"21","hashOfConfig":"16"},{"size":1679,"mtime":1608726494922,"results":"22","hashOfConfig":"16"},{"size":438,"mtime":1608220502216,"results":"23","hashOfConfig":"16"},{"size":2666,"mtime":1609138962819,"results":"24","hashOfConfig":"16"},{"size":1539,"mtime":1609138543588,"results":"25","hashOfConfig":"16"},{"size":362,"mtime":1608029879446,"results":"26","hashOfConfig":"16"},{"size":1379,"mtime":1609154414477,"results":"27","hashOfConfig":"16"},{"size":356,"mtime":1608278117008,"results":"28","hashOfConfig":"16"},{"size":104,"mtime":1608709103786,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"cdf6y6",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"/Users/alexey/Documents/chat/web/src/index.js",[],["63","64"],"/Users/alexey/Documents/chat/web/src/route/appRouter.tsx",["65"],"import React, {useState} from 'react';\n\nimport {BrowserRouter as Router, Route, } from 'react-router-dom';\nimport {rootRoutes} from './routes'\nimport SignIn from \"../auth/auth\"\nimport SignUp from \"../auth/register\"\nimport Chat from \"../chat/chat\"\nimport Header from \"../ui/header\"\n\nconst AppRouter: React.FC=():React.ReactElement=> {\n\n  return (\n    <Router >\n      <Route path={rootRoutes.root}>\n        <Header />\n      </Route>\n\n      <Route path={rootRoutes.login} exact>\n        <SignIn  />\n      </Route>\n\n      <Route path={rootRoutes.register} exact>\n        <SignUp />\n      </Route>\n\n      <Route path={rootRoutes.chat} exact>\n        <Chat  />\n      </Route>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n",["66","67"],"/Users/alexey/Documents/chat/web/src/auth/query.ts",[],"/Users/alexey/Documents/chat/web/src/auth/register.tsx",[],"/Users/alexey/Documents/chat/web/src/auth/auth.tsx",[],"/Users/alexey/Documents/chat/web/src/chat/chat.tsx",[],"/Users/alexey/Documents/chat/web/src/chat/messageList.tsx",["68"],"import React, { ReactElement, useEffect, useState } from \"react\"\nimport {Box} from \"@material-ui/core\"\nimport { useQuery, useSubscription } from \"@apollo/react-hooks\"\nimport {GetMessagesQ, NewMessageS} from \"./query\"\nimport Cookies from \"js-cookie\"\nimport styled from 'styled-components'\n\n\nconst StyledList= styled.ul`\n  padding-left:10px;\n  padding-right:10px;\n  list-style:none;\n`\n\nconst StyledItemList= styled.li`\n  padding-bottom: 10px;\n  padding-top: 10px;\n  border: 1px solid rgb(63, 81, 181);\n  border-radius: 10px;\n  margin-top:10px;\n  margin-bottom:10px;\n`\n\n\n\nexport const MessageList = ():ReactElement =>{\n  const id = Cookies.get(\"userId\")\n  const [messageList, setMessageList]= useState([\"\"])\n  const { data, loading } = useQuery(GetMessagesQ, {\n    variables: {\n      senderId: id\n    },\n  })\n\n  useEffect(() => {\n\n    setMessageList(data.getMessages)\n  }, [loading, data])\n\n  const {data: subData, loading: subLoading} = useSubscription(NewMessageS)\n\n\n\n  useEffect(() => {\n    const list = document.getElementById(\"messageList\")\n    if(!!subData && list ){\n\n      const newMessageList= [...messageList, subData.newMessage]\n\n      setMessageList(newMessageList)\n      list.scrollTop = list.scrollHeight\n    }\n\n  }, [subLoading, subData])\n\n\n\n\n  return (\n    <Box width=\"100vw\" height=\"70vh\" id=\"messageList\" overflow=\"scroll\">\n      <StyledList >\n        {!loading && messageList  && messageList.map((message:any, index:number)=> <StyledItemList key={index} >\n          <Box textAlign=\"left\" marginLeft=\"10px\">{message.senderName}: </Box>\n          <Box marginTop=\"20px\" >{message.text}</Box>\n        </StyledItemList>\n        )}\n      </StyledList>\n    </Box>\n  )\n}\n","/Users/alexey/Documents/chat/web/src/chat/query.ts",[],["69","70"],"/Users/alexey/Documents/chat/web/src/chat/sendMessage.tsx",[],"/Users/alexey/Documents/chat/web/src/ui/header.tsx",[],"/Users/alexey/Documents/chat/web/src/reportWebVitals.js",[],"/Users/alexey/Documents/chat/web/src/apolloSetup.ts",[],"/Users/alexey/Documents/chat/web/src/App.tsx",[],"/Users/alexey/Documents/chat/web/src/route/routes.ts",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":1,"column":16,"nodeType":"77","messageId":"78","endLine":1,"endColumn":24},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"79","severity":1,"message":"80","line":54,"column":6,"nodeType":"81","endLine":54,"endColumn":27,"suggestions":"82"},{"ruleId":"71","replacedBy":"83"},{"ruleId":"73","replacedBy":"84"},"no-native-reassign",["85"],"no-negated-in-lhs",["86"],"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'messageList'. Either include it or remove the dependency array.","ArrayExpression",["87"],["85"],["86"],"no-global-assign","no-unsafe-negation",{"desc":"88","fix":"89"},"Update the dependencies array to be: [subLoading, subData, messageList]",{"range":"90","text":"91"},[1228,1249],"[subLoading, subData, messageList]"]