[{"/Users/alexey/Documents/chat/web/src/index.js":"1","/Users/alexey/Documents/chat/web/src/reportWebVitals.js":"2","/Users/alexey/Documents/chat/web/src/App.tsx":"3","/Users/alexey/Documents/chat/web/src/apolloSetup.ts":"4","/Users/alexey/Documents/chat/web/src/route/appRouter.tsx":"5","/Users/alexey/Documents/chat/web/src/i18n/index.ts":"6","/Users/alexey/Documents/chat/web/src/route/routes.ts":"7","/Users/alexey/Documents/chat/web/src/auth/auth.tsx":"8","/Users/alexey/Documents/chat/web/src/auth/register.tsx":"9","/Users/alexey/Documents/chat/web/src/ui/header.tsx":"10","/Users/alexey/Documents/chat/web/src/chat/chat.tsx":"11","/Users/alexey/Documents/chat/web/src/i18n/locales.ts":"12","/Users/alexey/Documents/chat/web/src/i18n/provider.tsx":"13","/Users/alexey/Documents/chat/web/src/auth/query.ts":"14","/Users/alexey/Documents/chat/web/src/chat/messageList.tsx":"15","/Users/alexey/Documents/chat/web/src/chat/sendMessage.tsx":"16","/Users/alexey/Documents/chat/web/src/chat/query.ts":"17","/Users/alexey/Documents/chat/web/src/i18n/messages/index.ts":"18","/Users/alexey/Documents/chat/web/src/i18n/messages/en-us.ts":"19","/Users/alexey/Documents/chat/web/src/friends/friends.tsx":"20","/Users/alexey/Documents/chat/web/src/friends/friend-list.tsx":"21","/Users/alexey/Documents/chat/web/src/friends/add-friend.tsx":"22","/Users/alexey/Documents/chat/web/src/friends/query.ts":"23","/Users/alexey/Documents/chat/web/src/friends/add-friend-modal.tsx":"24"},{"size":291,"mtime":1608201792826,"results":"25","hashOfConfig":"26"},{"size":362,"mtime":1608029879446,"results":"27","hashOfConfig":"26"},{"size":470,"mtime":1609158576338,"results":"28","hashOfConfig":"26"},{"size":1375,"mtime":1609225497379,"results":"29","hashOfConfig":"26"},{"size":847,"mtime":1609329810088,"results":"30","hashOfConfig":"26"},{"size":87,"mtime":1609158406400,"results":"31","hashOfConfig":"26"},{"size":104,"mtime":1608709103786,"results":"32","hashOfConfig":"26"},{"size":5437,"mtime":1609163839882,"results":"33","hashOfConfig":"26"},{"size":5863,"mtime":1609216021514,"results":"34","hashOfConfig":"26"},{"size":1846,"mtime":1609228027517,"results":"35","hashOfConfig":"26"},{"size":1285,"mtime":1610362666890,"results":"36","hashOfConfig":"26"},{"size":46,"mtime":1609158583798,"results":"37","hashOfConfig":"26"},{"size":495,"mtime":1609158533298,"results":"38","hashOfConfig":"26"},{"size":339,"mtime":1608302953056,"results":"39","hashOfConfig":"26"},{"size":2024,"mtime":1610363807177,"results":"40","hashOfConfig":"26"},{"size":2884,"mtime":1609323019505,"results":"41","hashOfConfig":"26"},{"size":417,"mtime":1609328884608,"results":"42","hashOfConfig":"26"},{"size":112,"mtime":1609158450966,"results":"43","hashOfConfig":"26"},{"size":480,"mtime":1609215580918,"results":"44","hashOfConfig":"26"},{"size":1103,"mtime":1610362208868,"results":"45","hashOfConfig":"26"},{"size":1053,"mtime":1610363242419,"results":"46","hashOfConfig":"26"},{"size":475,"mtime":1610362245362,"results":"47","hashOfConfig":"26"},{"size":435,"mtime":1610361681071,"results":"48","hashOfConfig":"26"},{"size":1820,"mtime":1610362538436,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"cdf6y6",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"57"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/alexey/Documents/chat/web/src/index.js",[],["101","102"],"/Users/alexey/Documents/chat/web/src/reportWebVitals.js",[],"/Users/alexey/Documents/chat/web/src/App.tsx",[],["103","104"],"/Users/alexey/Documents/chat/web/src/apolloSetup.ts",[],"/Users/alexey/Documents/chat/web/src/route/appRouter.tsx",[],"/Users/alexey/Documents/chat/web/src/i18n/index.ts",[],"/Users/alexey/Documents/chat/web/src/route/routes.ts",[],"/Users/alexey/Documents/chat/web/src/auth/auth.tsx",[],"/Users/alexey/Documents/chat/web/src/auth/register.tsx",[],"/Users/alexey/Documents/chat/web/src/ui/header.tsx",[],"/Users/alexey/Documents/chat/web/src/chat/chat.tsx",[],"/Users/alexey/Documents/chat/web/src/i18n/locales.ts",[],"/Users/alexey/Documents/chat/web/src/i18n/provider.tsx",[],"/Users/alexey/Documents/chat/web/src/auth/query.ts",[],"/Users/alexey/Documents/chat/web/src/chat/messageList.tsx",["105","106"],"/Users/alexey/Documents/chat/web/src/chat/sendMessage.tsx",["107","108"],"import React, { ReactElement, Fragment } from \"react\"\nimport {TextField, Box, Button} from \"@material-ui/core\"\nimport {  useMutation } from \"@apollo/react-hooks\"\nimport {SendMessageM} from \"./query\"\nimport {Message} from \"./types\"\nimport {Formik, FormikProps} from \"formik\"\nimport * as yup from 'yup'\nimport Cookies from \"js-cookie\"\nimport styled from 'styled-components'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ExecutionResult } from \"graphql\"\nimport {useIntl} from 'react-intl';\n\nconst StyledTextField=styled(TextField)`\n  width:300px;\n  border:1px solid #3f51b5;\n  border-radius:5px;\n  margin-bottom: 10px;\n`\n\ninterface SendMessageInput {\n  chatId: string\n  text:string\n}\n\nconst initialValues:SendMessageInput = {\n  chatId: \"\",\n  text:\"\"\n}\n\nconst validationSchema = yup.object().shape({\n  text: yup.string().required().max(500),\n  senderId: yup.string().required(),\n})\n\ninterface Props {\n  currentChat: string | null\n}\n\nexport const SendMessage = ({\n  currentChat\n}:Props):ReactElement =>{\n  const [sendMessage] = useMutation<Message>(SendMessageM)\n  const id= Cookies.get(\"userId\")\n  const userName= Cookies.get(\"userName\")\n  const intl = useIntl().messages\n\n  const setTextValue = (formikBag:any): void=>{\n    const sendMessageInput:any = document.getElementById(\"sendMessageInput\")\n    if(sendMessageInput){\n    formikBag.setFieldValue(\"text\", sendMessageInput.value)\n    }\n  }\n\n  const  sendMessageAsync = async(formikBag:FormikProps<SendMessageInput>):Promise<void> =>{\n    if(formikBag.values.text && !formikBag.errors.text){\n    try {\n     await sendMessage({\n        variables: {\n          input: {\n            chatId: currentChat,\n            text: formikBag.values.text,\n          },\n        },\n      })\n    } catch {}\n    finally{\n      formikBag.resetForm()\n    }\n  }else{\n    toast.error(\"Max lenght 500 simbols\",{\n      position: toast.POSITION.BOTTOM_RIGHT\n    })\n    formikBag.resetForm()\n  }\n  }\n\n  return (\n    <Fragment>\n      <Formik\n      onSubmit={():Promise<ExecutionResult<Message>> =>sendMessage()}\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      component={(\n        formikBag\n      ): ReactElement<FormikProps<SendMessageInput>> =>{\n        return(\n          <Box width=\"300px\" marginTop = \"10px\"  >\n            <StyledTextField\n            id=\"sendMessageInput\" required  variant=\"outlined\"\n            onChange={():void=> setTextValue(formikBag)}\n            inputProps={{\n              autoComplete:\"off\"\n            }}\n              />\n\n          <Box marginTop=\"10px\" marginBottom=\"10px\" >\n            <Button  variant=\"contained\" color=\"primary\" onClick={():Promise<void>=> sendMessageAsync(formikBag)} >{`${intl.send}`}</Button>\n          </Box>\n\n        </Box>\n          )\n          }}\n      />\n    <ToastContainer />\n  </Fragment>\n  )}\n","/Users/alexey/Documents/chat/web/src/chat/query.ts",[],"/Users/alexey/Documents/chat/web/src/i18n/messages/index.ts",[],"/Users/alexey/Documents/chat/web/src/i18n/messages/en-us.ts",[],"/Users/alexey/Documents/chat/web/src/friends/friends.tsx",[],"/Users/alexey/Documents/chat/web/src/friends/friend-list.tsx",[],"/Users/alexey/Documents/chat/web/src/friends/add-friend.tsx",[],"/Users/alexey/Documents/chat/web/src/friends/query.ts",[],"/Users/alexey/Documents/chat/web/src/friends/add-friend-modal.tsx",[],{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":31,"column":9,"nodeType":"115","messageId":"116","endLine":31,"endColumn":11},{"ruleId":"113","severity":1,"message":"117","line":32,"column":9,"nodeType":"115","messageId":"116","endLine":32,"endColumn":13},{"ruleId":"113","severity":1,"message":"114","line":45,"column":9,"nodeType":"115","messageId":"116","endLine":45,"endColumn":11},{"ruleId":"113","severity":1,"message":"118","line":46,"column":9,"nodeType":"115","messageId":"116","endLine":46,"endColumn":17},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"@typescript-eslint/no-unused-vars","'id' is assigned a value but never used.","Identifier","unusedVar","'name' is assigned a value but never used.","'userName' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]